'use strict';

var compiler = require('idyll-compiler');
var fs = require('fs');

var _require = require('path'),
    join = _require.join;

var _require2 = require('./index'),
    translate = _require2.translate;

var fixtures = join(__dirname, '..', '..', 'test', 'fixtures');

fs.writeFileSync(join(fixtures, 'ast.json'), JSON.stringify(compiler(fs.readFileSync(join(fixtures, 'src.idl'), 'utf8')), null, 2), 'utf8');

fs.writeFileSync(join(fixtures, 'schema.json'), JSON.stringify(translate(JSON.parse(fs.readFileSync(join(fixtures, 'ast.json'), 'utf8'))), null, 2), 'utf8');